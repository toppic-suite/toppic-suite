<html>
<head>
<META http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>Visual inspection</title>
<!-- <link rel="stylesheet" type="text/css" href="../node_modules/@fortawesome/fontawesome-free/css/all.css"> -->
<link rel="stylesheet" type="text/css" href="../node_modules/datatables.net-dt/css/jquery.dataTables.css"/>
<link rel="stylesheet" type="text/css" href="../node_modules/bootstrap/dist/css/bootstrap.min.css">
<!-- <link rel="stylesheet" type="text/css" href="../common/nav_bar/css/nav_bar.css"> -->
<link rel="stylesheet" type="text/css" href="css/spectrum.css">
<link rel="stylesheet" type="text/css" href="css/modal.css">
<link rel="stylesheet" type="text/css" href="css/svg.css">

<script src="../node_modules/popper.js/dist/umd/popper.js"></script>
<script src="../node_modules/jquery/dist/jquery.js"></script>
<script src="../node_modules/jquery-ui-dist/jquery-ui.min.js"></script>
<script src="../node_modules/datatables.net/js/jquery.dataTables.js"></script>
<script src="../node_modules/d3/dist/d3.js"></script>
<script src="../node_modules/bootstrap/dist/js/bootstrap.min.js" ></script>

<!--Save Image-->
<script src="../node_modules/file-saver/dist/FileSaver.js" ></script>
<!-- <script src="../common/save_image/saveImage.js" ></script> -->
<!--draw nav bar-->
<!-- <script src="../common/nav_bar/js/navBar.js" ></script> -->

<script src="js/UI_helpers/seqofexecution.js" ></script>


<script src="js/sequence_svg/coordinates_util.js" ></script>
<script src="js/sequence_svg/drawsvg.js" ></script>

<script src="js/mass_shift/utilfunctions.js" ></script>

<!--Add Background color to the Mass Shifted elements-->
<script src="js/UI_helpers/rectbackgroundcolor.js" ></script>
<!-- Store all the calculated Data -->
<script src="js/UI_helpers/completeCalData.js" ></script>

<!-- Views -->
<script src="js/views/errorView.js"></script>
<script src="js/views/fixedPtmView.js"></script>
<script src="js/views/infoView.js"></script>
<script src="js/views/ionCheckBoxView.js"></script>
<script src="js/views/ionTableView.js"></script>
<script src="js/views/massInteView.js"></script>
<script src="js/views/monoMassTableView.js"></script>
<script src="js/views/peakView.js"></script>
<script src="js/views/sequenceView.js"></script>

<!-- Models -->
<script src="js/models/mass_shift.js"></script>
<script src="js/models/matchedpeaks.js"></script>
<script src="js/models/parseData.js"></script>

<script src="../common/prsm_graph/draw_prsm.js"></script>
<script src="../common/prsm_graph/prsm_data.js"></script>
<script src="../common/prsm_graph/prsm_graph.js"></script>
<script src="../common/prsm_graph/prsm_para.js"></script>

<script src="../common/proteoform/proteoform.js"></script>
<script src="../common/proteoform/protein_constant.js"></script>
<script src="../common/proteoform/mass_shift_list.js"></script>

<script src="../common/spectrum_graph/spectrum_graph.js"></script>
<script src="../common/spectrum_graph/draw_spectrum.js"></script>
<script src="../common/spectrum_graph/spectrum_parameter.js"></script>

<script src="../common/distribution_calc/amino_acid_distribution.js"></script>
<script src="../common/distribution_calc/emass_and_distribution.js"></script>
<script src="../common/distribution_calc/isotopes.js"></script>
<script src="../common/distribution_calc/molecular_formulae.js"></script>
<!-- Controller -->
<script src="js/index.js"></script>
<script>
 // define global variable ms2_graph and precursorMass
 var ms2_graph; 
 var precursorMass ;
 // Global Variable with spec parameters for respetive Graphs
 var correspondingSpecParams_g = [];
 // Gets executed once HTML is loaded
 $(document).ready(function(){
	// set localStorage for testing
	localStorage.setItem('peakAndIntensityList', `["145.0875 1.5969e+03","146.0168 1.5277e+03","146.9079 1.9023e+03","146.9515 1.5168e+03","148.5822 1.5721e+03","155.2688 1.5016e+03","155.9381 1.5271e+03","156.0659 1.6493e+03","157.8576 1.3989e+03","161.7146 1.5753e+03","165.3170 1.8079e+03","169.6545 1.4291e+03","171.3529 1.6203e+03","178.3756 1.6838e+03","182.7672 1.7691e+03","182.7762 2.6389e+03","182.8779 1.7735e+03","188.4904 1.7898e+03","192.0118 1.4908e+03","197.1271 2.6593e+03","198.2006 1.5724e+03","198.9105 2.0410e+03","199.1414 2.3886e+03","199.1798 1.6739e+03","199.1835 1.8727e+03","199.2250 3.4447e+03","199.2310 1.0553e+04","199.2405 5.7950e+03","199.2448 4.3300e+03","199.2547 1.8756e+03","199.3202 2.2646e+03","199.3292 2.6565e+03","199.3418 2.1201e+03","199.3514 1.5393e+03","203.8200 1.5555e+03","204.1118 1.9354e+03","209.7153 1.7681e+03","214.1930 1.6264e+03","220.0678 1.4458e+03","233.5537 1.6185e+03","234.3228 1.7657e+03","238.4196 1.6395e+03","247.5532 1.6327e+03","254.7849 1.9682e+03","255.2640 2.0714e+03","255.2682 1.6511e+03","259.6233 1.6838e+03","260.4390 1.8359e+03","273.0883 1.7637e+03","277.0119 1.5500e+03","280.1610 2.5272e+03","291.1646 1.7695e+03","299.5108 1.9671e+03","299.5199 2.0630e+03","307.0183 1.8496e+03","310.3969 1.6000e+03","315.6872 1.8477e+03","316.7235 1.6951e+03","324.2008 6.3538e+03","326.1696 4.8791e+03","330.1428 2.1799e+03","332.0192 1.6562e+03","342.1812 1.9041e+03","342.2459 3.1472e+03","347.1937 2.9727e+03","347.4443 2.0126e+03","347.8584 4.6195e+03","348.2025 2.7341e+04","348.7044 7.7016e+03","356.2000 1.2910e+04","356.7016 5.4385e+03","357.1893 2.5040e+03","357.6603 2.7263e+03","365.7489 1.5365e+03","369.2122 1.6174e+03","370.3653 1.4091e+03","370.7177 1.3417e+03","374.1447 1.5642e+03","375.1641 5.9347e+03","375.2050 7.8503e+03","375.5400 8.0250e+03","378.7014 2.2846e+03","379.1951 1.9416e+03","380.5375 2.8762e+03","380.8807 1.1315e+04","381.2159 6.1725e+03","381.5496 2.3009e+03","386.2126 5.5525e+03","386.5466 2.9303e+03","388.2166 7.4489e+03","389.4430 1.5873e+03","389.6626 2.0892e+03","390.2119 4.3643e+03","390.5458 3.3471e+03","391.9641 1.7962e+03","392.2109 3.0392e+03","398.9593 1.4968e+03","408.0270 1.8602e+03","419.6639 1.9420e+03","422.2280 2.5520e+03","422.2897 1.7195e+03","423.2971 1.5232e+03","424.2413 1.5976e+03","425.8974 2.8320e+03","427.5113 1.9866e+03","428.8767 1.6496e+03","433.2261 6.6447e+03","433.5602 3.6850e+03","434.8508 1.7338e+03","436.2641 1.0061e+04","437.2675 2.3738e+03","438.5587 2.5463e+03","450.8516 1.5600e+03","453.7496 1.8361e+04","454.2517 7.8720e+03","454.7544 2.1116e+03","455.2146 4.0747e+03","458.2268 1.7071e+03","461.7466 6.6420e+03","462.2492 2.6311e+03","469.7600 2.0165e+03","471.2323 1.7248e+03","473.8302 2.2801e+03","473.9733 1.3729e+04","474.1165 5.0173e+03","474.2314 2.7063e+03","474.4036 4.0009e+03","483.2097 2.6034e+03","486.2525 1.7246e+03","486.7561 2.7890e+03","494.4219 1.6953e+03","498.2516 1.5173e+03","498.5992 1.6114e+04","498.7722 2.7571e+03","498.9333 1.4451e+04","499.2666 5.1485e+03","499.6001 2.2508e+03","501.2774 2.8146e+03","502.7663 2.2200e+03","503.9299 6.0282e+03","504.2654 4.8169e+03","504.6026 2.0482e+04","504.9367 1.4436e+04","504.9963 2.3204e+03","505.2682 5.6838e+03","505.2810 4.0728e+03","505.5277 4.1537e+03","505.7791 4.1654e+03","506.0272 1.7551e+03","506.2774 1.5052e+03","507.0287 1.6478e+03","507.6402 5.0364e+03","507.8917 2.8775e+03","507.9651 2.5174e+03","508.1346 1.6009e+03","509.7289 1.9068e+03","509.7496 1.9434e+03","509.7805 2.2373e+05","509.9345 7.2096e+03","510.0311 2.7589e+05","510.2819 1.6924e+05","510.5325 6.4805e+04","510.6023 2.3398e+03","510.7829 2.0313e+04","511.0339 3.1047e+03","511.2776 8.9628e+03","511.7807 6.2078e+03","512.2255 1.7886e+03","512.2830 2.0187e+03","512.9456 2.3482e+03","513.9537 1.6229e+03","516.2825 2.5919e+03","516.7851 3.0056e+03","517.7616 2.1917e+03","518.2648 1.8049e+03","521.2830 8.9296e+03","521.7849 3.1257e+03","522.2775 1.7768e+04","522.6122 1.6112e+04","522.9463 6.4920e+03","523.2804 2.3905e+03","525.7604 1.7684e+03","526.2753 1.4414e+04","526.7650 1.1215e+04","526.7816 6.2203e+03","527.2670 5.6452e+03","527.6099 4.1162e+03","527.7691 2.3602e+03","527.9431 3.4063e+03","528.2779 2.6032e+03","528.6151 2.7840e+03","528.7346 2.2208e+03","529.2806 2.8880e+03","529.9312 2.3854e+03","530.5770 2.3212e+03","531.1814 4.7081e+03","531.2662 3.4845e+03","531.3490 2.8368e+03","531.5103 2.5827e+03","531.6829 2.3524e+03","532.4767 5.4583e+03","535.2802 6.1864e+04","535.6612 2.1947e+03","535.7817 3.3479e+04","536.2833 1.0169e+04","547.0596 2.0127e+03","548.8042 1.6527e+03","549.8452 2.3257e+03","552.4839 1.7862e+03","552.8030 4.9490e+03","552.9684 7.0947e+03","553.4935 1.8375e+03","554.7544 1.9288e+03","557.3877 1.9067e+03","568.2715 2.0160e+03","569.3998 2.4026e+03","569.6021 2.9085e+03","570.5612 3.2626e+03","570.8293 2.2342e+03","571.4337 1.9353e+03","571.5994 1.9624e+03","571.8290 2.8651e+03","572.2814 3.4852e+03","572.9124 2.3102e+03","573.9207 2.4766e+03","574.2739 3.1043e+03","574.4009 4.5821e+03","574.5273 6.1236e+03","574.6546 2.2043e+03","574.7800 2.7781e+03","574.9039 3.4409e+03","575.0248 2.8041e+03","575.1535 2.7097e+03","575.3661 2.0626e+03","575.5550 3.6881e+03","575.6459 3.8122e+03","575.7754 2.3240e+03","575.8120 1.8777e+03","575.9188 2.9834e+03","576.1056 3.0922e+03","576.1961 2.1334e+03","576.2916 2.9619e+03","576.6514 1.9907e+03","576.7841 1.8402e+03","576.9016 2.5839e+03","577.5170 2.3074e+03","577.6530 3.6055e+03","577.7426 1.0353e+04","577.7773 4.5992e+03","577.8350 1.5518e+04","577.9037 7.2748e+03","578.0276 9.9228e+03","578.1064 7.0859e+03","578.1506 6.6811e+03","578.2149 1.8729e+03","578.2756 6.5941e+03","578.4006 2.7286e+03","578.4697 3.8481e+03","578.5285 5.6644e+03","578.6558 1.9382e+03","578.8308 5.0189e+03","578.9127 2.4200e+03","579.0623 4.3645e+03","579.1384 2.3215e+03","579.1980 1.2314e+04","579.2891 2.7655e+04","579.3803 7.4549e+04","579.4066 2.6056e+03","579.4714 8.0689e+04","579.5196 1.6515e+03","579.5621 9.3548e+04","579.6530 8.2684e+04","579.7451 3.6426e+04","579.7715 3.0051e+03","579.8351 3.2756e+04","579.8738 2.8521e+04","579.9273 1.2562e+04","580.0160 3.6403e+04","580.1023 3.8961e+03","580.1602 3.3059e+04","580.2114 2.9224e+03","580.3033 2.0018e+04","580.4468 1.2305e+04","580.5274 2.5206e+03","580.5597 2.0036e+03","580.5880 3.6562e+03","580.6035 1.8502e+03","580.7005 4.2091e+03","580.8015 2.9076e+03","580.8301 3.6251e+03","580.9058 3.5037e+03","580.9841 4.7397e+03","581.1399 4.7081e+03","581.3719 2.4078e+03","581.5192 2.3184e+03","581.8323 4.4911e+03","581.9398 2.0920e+03","582.0178 1.9661e+03","582.1046 2.2595e+03","582.1749 2.0631e+03","582.4472 4.3469e+03","582.5228 3.8984e+03","582.6550 3.7408e+03","582.7408 2.3108e+03","582.9279 2.2239e+03","583.0180 2.7276e+03","583.5938 2.1512e+03","584.0940 2.2773e+03","584.2021 3.4301e+03","584.2924 1.9803e+04","584.3812 1.0433e+04","584.4741 1.1765e+04","584.5651 7.0174e+03","584.6540 8.0742e+03","584.7223 3.0319e+03","584.7451 5.0788e+03","584.7828 2.7489e+03","584.8148 1.6089e+04","584.9211 1.0085e+04","585.1250 4.9266e+03","585.3143 6.1567e+03","585.3745 2.6275e+03","585.6555 8.1276e+03","585.7468 3.4223e+04","585.8375 4.8198e+04","585.8835 2.2312e+03","585.9289 5.8403e+04","586.0200 6.3736e+04","586.0884 2.1532e+03","586.1116 5.6668e+04","586.2024 3.5920e+04","586.2912 3.0945e+04","586.3975 1.8456e+04","586.4758 1.3812e+04","586.5040 7.1592e+03","586.5664 3.2176e+03","586.6038 9.8441e+03","586.7034 6.1210e+03","586.8049 4.6061e+03","586.9027 1.6157e+03","586.9904 5.3864e+03","587.3691 2.6791e+03","587.4732 1.9958e+03","587.4981 1.9371e+03","587.5303 2.6511e+03","587.6760 1.7422e+03","588.2894 3.4127e+03","588.3197 3.7587e+03","588.3977 1.9806e+03","588.5856 3.3465e+03","588.6572 1.9087e+03","588.7469 1.8264e+03","588.7905 4.0034e+03","589.2551 2.0806e+03","589.4675 1.9419e+03","589.5594 3.0521e+03","589.6193 1.7967e+03","589.7892 2.9195e+03","589.8372 3.8088e+03","589.8552 4.1622e+03","589.8875 3.7698e+03","589.9064 2.6399e+03","589.9896 4.4877e+03","590.0198 1.9469e+03","590.0546 4.3217e+03","590.0887 8.0374e+03","590.1292 2.8980e+03","590.1881 1.0300e+04","590.2905 1.6936e+04","590.3897 8.1949e+03","590.4903 4.0644e+03","590.5910 2.5721e+03","590.6556 2.1990e+03","590.8375 2.4859e+03","590.9845 1.7769e+03","591.0644 2.4994e+03","591.1365 2.8531e+03","591.2492 2.0384e+03","591.2908 2.2874e+03","591.3766 2.0842e+03","591.5251 3.0653e+03","591.5916 3.0234e+03","591.6545 3.9999e+03","591.6896 2.4220e+03","591.7486 3.3402e+03","591.7872 2.1426e+03","591.8410 5.6139e+03","591.8948 2.5657e+03","591.9312 8.5432e+03","591.9897 2.4603e+03","592.0231 9.2513e+03","592.0975 1.7180e+03","592.2945 5.6358e+03","592.3538 3.4279e+03","592.5695 2.4749e+03","592.7257 2.8239e+03","592.8107 4.6553e+03","592.9538 1.8007e+03","592.9872 2.3891e+03","593.2018 3.1616e+03","593.2948 1.1387e+04","593.3873 2.1016e+04","593.4783 3.5664e+04","593.5681 2.7040e+04","593.5947 2.5647e+03","593.6603 3.1829e+04","593.7513 2.3294e+04","593.7914 2.6273e+03","593.8398 1.0800e+04","593.9336 6.4921e+03","593.9874 2.1352e+03","594.0283 3.9464e+03","594.1122 2.6566e+03","594.4578 3.8629e+03","594.5923 1.9223e+03","594.6619 2.2470e+03","594.9331 1.5601e+04","595.0237 4.1068e+04","595.1152 5.1316e+04","595.2057 4.1884e+04","595.2969 3.4259e+04","595.3881 2.8893e+04","595.4793 1.5416e+04","595.5200 1.8879e+03","595.5709 6.8930e+03","595.6607 6.1343e+03","595.6959 2.3496e+03","596.2053 2.1235e+03","596.3761 1.8069e+03","596.5691 2.3076e+03","596.5938 4.3660e+03","596.7931 2.0843e+03","596.8769 2.1475e+03","597.3736 2.5360e+03","598.3253 2.3845e+03","598.6274 5.6071e+03","598.7148 2.3106e+03","598.8673 1.8778e+03","598.9734 1.9571e+03","599.2792 2.2921e+03","599.6862 2.0555e+03","600.1313 2.7115e+03","600.2118 1.8324e+03","600.2958 2.9335e+03","600.4004 2.0316e+03","600.7974 4.1118e+03","600.8480 1.9078e+03","600.8795 4.0215e+03","601.0104 2.9028e+03","601.0469 1.7550e+03","601.1500 2.6630e+03","601.4823 3.4164e+03","601.6589 5.1125e+03","601.9948 1.8864e+03","602.0482 5.4828e+03","602.1342 4.1291e+03","602.2178 9.0547e+03","602.3008 8.7157e+03","602.3229 1.8379e+03","602.3813 1.4651e+04","602.4078 2.8693e+03","602.4669 8.7176e+03","602.5070 7.2662e+03","602.5500 7.8347e+03","602.6064 2.8204e+03","602.6336 5.8182e+03","602.6758 2.5310e+03","602.7066 4.2163e+03","602.8697 1.7424e+03","602.9016 2.0090e+03","602.9351 2.7788e+03","603.2734 9.7847e+03","603.3073 4.4182e+03","603.4683 8.2959e+03","603.5498 1.6537e+04","603.5756 6.6400e+03","603.6345 3.5442e+04","603.6666 1.0098e+04","603.7175 5.1765e+04","603.7579 4.2472e+03","603.8011 6.4527e+04","603.8472 6.3612e+03","603.8843 4.5195e+04","603.9409 7.5594e+03","603.9683 4.2180e+04","604.0512 3.0541e+04","604.1365 1.5672e+04","604.2181 1.5456e+04","604.2766 2.4570e+03","604.3032 6.5294e+03","604.7150 1.9678e+03","605.1235 2.6312e+03","605.2136 1.2930e+04","605.3032 1.5661e+04","605.3958 1.1837e+04","605.4862 1.8773e+04","605.5793 7.2706e+03","605.6208 2.8150e+03","605.6669 8.8123e+03","605.7252 2.4785e+03","605.7623 4.6090e+03","605.8504 4.1255e+03","605.9432 5.6600e+03","606.4323 1.9871e+03","606.6629 2.3458e+03","607.0870 1.9711e+03","607.4065 2.0955e+03","607.5126 2.3434e+03","607.5856 1.7824e+03","607.9345 2.1731e+03","608.1205 1.8619e+03","608.3887 2.6751e+03","608.4786 3.3825e+03","608.6423 2.1907e+03","608.7291 1.8734e+03","608.7796 2.6968e+03","608.8685 5.8416e+03","609.0316 2.9766e+03","609.0914 4.4235e+03","609.2023 2.7141e+03","609.3022 6.7041e+03","609.4039 2.0363e+03","609.6125 3.9877e+03","609.7083 5.7899e+03","609.7524 1.8933e+03","609.9331 2.0569e+03","610.0242 4.1947e+03","610.1191 2.3298e+03","610.2096 2.5148e+03","610.3007 2.3332e+03","610.4865 6.9898e+03","610.5350 3.9024e+03","610.5757 5.4652e+03","610.6661 6.3304e+03","610.7358 1.1083e+04","610.8490 2.5531e+03","610.9075 6.5852e+03","610.9327 1.0299e+04","611.0101 1.2564e+04","611.1103 2.8896e+04","611.2095 4.2904e+04","611.3097 3.9384e+04","611.3371 3.1348e+03","611.4102 2.9526e+04","611.5093 1.2649e+04","611.6104 1.0697e+04","611.7119 3.6018e+03","611.8118 3.3601e+03","612.0319 9.5919e+03","612.1221 2.0235e+04","612.2145 2.6499e+04","612.3051 3.6015e+04","612.3961 2.5377e+04","612.4618 7.8730e+03","612.4866 2.0931e+04","612.5791 1.4035e+04","612.6026 4.6592e+03","612.6671 6.1449e+03","612.7438 6.0690e+03","612.7672 2.9826e+03","612.8544 2.1588e+03","612.8907 7.4748e+03","613.0338 4.3935e+03","613.2957 1.8208e+03","613.5492 2.1626e+03","613.5771 7.7302e+03","613.6199 2.7816e+03","613.6697 4.4883e+04","613.7605 9.6602e+04","613.8520 1.0946e+05","613.9429 1.0527e+05","614.0341 1.0193e+05","614.1224 6.1953e+04","614.2155 4.6110e+04","614.3066 2.5974e+04","614.3355 6.7775e+04","614.3970 2.0106e+04","614.4914 5.4258e+03","614.5362 6.2229e+04","614.5791 3.8710e+03","614.6072 3.9201e+03","614.7070 2.5009e+03","614.7368 3.4036e+04","614.9070 2.4459e+03","614.9365 1.2697e+04","615.2169 5.9527e+03","615.2472 4.5983e+03","615.3076 8.7191e+03","615.3396 2.1016e+03","615.3972 1.4794e+04","615.4402 2.9934e+03","615.4868 1.0331e+04","615.5610 3.6571e+03","615.5837 4.2148e+03","615.6415 2.2761e+03","615.6733 1.2520e+04","615.7617 9.9163e+03","615.8179 2.7397e+03","615.8546 2.7692e+03","615.9446 6.1753e+03","616.0070 1.8396e+03","616.0340 4.8355e+03","616.1121 3.2732e+03","616.2098 6.3094e+03","616.2488 2.8526e+03","616.3098 4.7563e+03","616.4088 4.3047e+03","616.4815 1.9471e+03","616.5132 3.2360e+03","616.5834 2.2055e+03","616.6104 6.1543e+03","616.9829 3.4130e+03","617.0350 4.6375e+03","617.1258 6.5077e+03","617.2161 4.2601e+03","617.3072 6.8326e+03","617.3995 8.2216e+03","617.5111 2.7567e+03","617.6528 2.3583e+03","618.2748 1.5169e+03","619.3184 6.0198e+03","619.4268 2.4875e+03","619.5463 2.5215e+03","619.5796 1.7136e+03","619.6533 4.4726e+03","619.7620 3.2096e+03","619.8201 1.7744e+03","619.8813 3.5060e+03","620.1227 1.9080e+03","620.5707 2.0538e+03","620.6019 2.4778e+03","621.2100 3.3534e+03","621.3216 1.2713e+04","621.4322 2.0650e+04","621.5445 2.8388e+04","621.6563 1.4835e+04","621.7666 1.4902e+04","621.8809 7.5463e+03","621.9884 4.0630e+03","622.0836 2.0966e+03","622.0969 2.1443e+03","622.3238 2.4839e+03","622.8584 2.8805e+03","622.9063 3.6563e+03","623.0436 2.5344e+03","623.1236 1.8955e+03","623.4088 3.7632e+03","623.5539 3.1825e+03","624.0206 2.1183e+03","624.1084 1.8571e+03","624.3102 5.3159e+03","624.4052 8.4743e+03","624.4947 1.2491e+04","624.5581 3.2422e+03","624.5869 1.4919e+04","624.6837 3.2010e+03","624.7679 6.8274e+03","624.8595 6.2592e+03","625.0023 4.6210e+03","625.0567 3.8736e+03","625.1260 2.5951e+03","625.2819 2.8171e+03","625.3107 8.0938e+03","625.4103 1.0979e+04","625.4545 1.4681e+03","625.5125 4.5710e+03","625.6118 3.5757e+03","625.7135 4.0909e+03","625.8122 3.6699e+03","625.8386 1.8814e+03","626.0052 3.0117e+03","626.2155 3.1100e+03","626.3234 3.4119e+03","626.4142 5.9155e+03","626.4656 6.7649e+03","626.5648 3.3812e+03","626.6196 5.7400e+03","626.7379 1.8916e+03","626.9146 7.5241e+03","627.0115 1.6968e+04","627.1125 3.0546e+04","627.1523 1.9794e+03","627.2124 5.7982e+04","627.3124 5.8681e+04","627.4127 4.3186e+04","627.4825 2.0605e+03","627.5126 2.2155e+04","627.5661 2.0926e+03","627.6136 1.6278e+04","627.7123 7.1777e+03","627.8135 6.0564e+03","627.9153 3.3709e+03","628.2316 2.9346e+03","628.3185 3.9891e+03","628.5743 3.4753e+03","628.6089 1.4256e+04","628.7522 3.3904e+04","628.8947 4.7788e+04","629.0385 3.4974e+04","629.1495 3.0936e+03","629.1816 2.9466e+04","629.2307 6.6793e+03","629.3251 8.2510e+03","629.3984 1.1211e+04","629.4633 6.3786e+03","629.4833 7.2759e+03","629.5660 9.3158e+03","629.6484 8.9208e+03","629.7352 4.5323e+03","629.7729 1.9499e+03","629.8233 3.1366e+03","629.8998 4.0347e+03","629.9805 2.2084e+03","630.0568 2.3253e+03","630.3265 2.5313e+03","630.3585 3.1256e+03","630.4375 2.7683e+03","630.5667 3.8769e+03","630.6483 6.2344e+03","630.8182 5.4925e+03","630.8921 1.6105e+03","631.0011 6.3266e+03","631.1205 2.6074e+03","631.1857 2.6335e+03","631.3137 3.4154e+03","631.8470 1.7204e+03","632.0155 2.3875e+03","632.0613 5.2119e+03","632.3289 6.1605e+03","632.4404 1.0187e+04","632.5512 1.5424e+04","632.6627 1.5521e+04","632.7726 7.1744e+03","632.8859 6.6659e+03","632.9994 4.9977e+03","633.1685 9.1408e+03","633.2772 3.0720e+03","633.3342 6.3819e+03","633.5025 6.6153e+03","633.6174 2.3990e+03","633.6689 4.6569e+03","633.7127 5.8201e+03","633.8232 1.9979e+03","633.9366 7.3448e+03","633.9686 1.8498e+03","634.1415 3.1412e+03","634.3419 2.9430e+03","634.5742 4.2076e+03","634.6993 5.0562e+03","634.8226 3.2801e+03","634.9147 1.6506e+03","635.3030 2.6354e+03","635.4160 6.5854e+03","635.5163 9.8124e+03","635.6159 5.5092e+03","635.7159 6.8289e+03","635.8169 4.1397e+03","635.9169 7.5580e+03","636.0195 2.8515e+03","636.2265 1.6245e+03","636.2881 2.5104e+03","636.4127 2.8458e+03","636.4941 4.1351e+03","636.6745 8.9395e+03","636.9097 2.1167e+03","636.9518 3.4471e+03","637.0165 1.4836e+04","637.1166 1.3110e+04","637.2172 3.9838e+04","637.3171 4.3799e+04","637.4171 5.1638e+04","637.5177 3.1931e+04","637.5883 2.6513e+03","637.6178 2.9261e+04","637.7209 6.3902e+03","637.7795 1.9364e+03","637.8168 5.8575e+03","637.8602 2.2889e+03","637.9181 5.3353e+03","638.0197 4.1376e+03","638.1130 4.1154e+03","638.2156 4.0625e+03","638.3409 6.3177e+04","638.5155 2.7110e+03","638.7123 2.4225e+03","638.8424 4.2571e+04","638.9175 3.2374e+03","638.9518 3.4043e+03","639.0192 7.1880e+03","639.0753 7.7026e+03","639.1179 1.6997e+03","639.2015 2.8322e+03","639.2293 3.1070e+03","639.3441 1.7216e+04","639.4089 2.6564e+03","639.4515 5.6667e+03","639.4998 3.1851e+03","639.5953 2.4800e+03","639.8438 3.8666e+03","639.9235 2.4522e+03","639.9733 2.5798e+03","640.1127 3.7783e+03","640.1486 2.3074e+03","640.3055 2.5119e+03","640.3463 3.8889e+03","640.4331 1.8234e+03","640.6440 2.6253e+03","640.7183 4.2087e+03","640.8193 4.9567e+03","640.9201 7.0027e+03","641.0184 1.0964e+04","641.1198 6.6121e+03","641.1619 3.9243e+03","641.2172 3.5529e+03","641.2985 3.0526e+03","641.4466 1.9277e+03","641.5198 2.0844e+03","641.5936 2.3640e+03","641.9240 2.2641e+03","642.0895 2.4611e+03","642.3177 5.4484e+03","642.4194 8.3430e+03","642.5196 2.0598e+04","642.5671 1.6480e+03","642.6193 3.0336e+04","642.7199 3.0950e+04","642.8197 2.5831e+04","642.9207 1.4776e+04","643.0210 3.1751e+03","643.0778 1.8539e+03","643.1219 4.1552e+03","643.2252 3.2384e+03","643.2396 3.1322e+03","643.3311 6.0058e+03","643.4418 3.2782e+03","643.5479 7.1159e+03","643.6439 1.7729e+03","643.7200 1.5983e+03","643.7492 2.2908e+04","643.8053 1.7730e+03","643.8759 3.3168e+03","643.9493 1.4277e+04","644.0218 2.0414e+03","644.1166 4.2456e+03","644.1487 1.2217e+04","644.2212 8.3358e+03","644.3198 2.3928e+04","644.3511 4.6808e+03","644.4200 1.3446e+04","644.5217 1.0208e+04","644.5576 1.7672e+03","644.6202 1.7939e+04","644.7204 1.1952e+04","644.7643 2.7173e+03","644.8469 1.7119e+03","644.9030 6.6405e+03","644.9257 4.3116e+03","644.9996 3.4213e+03","645.0506 7.4592e+03","645.1211 3.1458e+03","645.1927 6.2813e+03","645.2233 9.9078e+03","645.3365 8.1311e+03","645.4464 4.1890e+03","645.4795 3.1257e+03","645.6733 2.3024e+03","646.0969 2.1477e+03","646.2486 2.0989e+03","646.6524 1.7295e+03","647.3570 2.3731e+03","647.3931 2.3463e+03","647.5546 3.0254e+03","647.6659 4.1439e+03","647.8539 2.1347e+03","648.3214 1.8960e+03","648.3575 2.0054e+03","648.5594 2.3567e+03","648.9233 3.0694e+03","649.2230 2.0256e+03","649.2466 1.7242e+03","649.2996 1.9229e+03","649.3351 6.4296e+04","649.4420 6.5928e+03","649.5219 3.2388e+03","649.5558 1.0689e+04","649.6199 1.8394e+03","649.6649 1.1147e+04","649.7827 3.9159e+03","649.8362 4.7649e+04","649.8884 7.6075e+03","649.9995 3.1999e+03","650.1297 2.1730e+03","650.3067 2.8103e+03","650.3387 1.8342e+04","650.6863 3.2693e+03","650.8077 2.3970e+03","650.8401 4.2005e+03","650.9195 5.0402e+03","651.0234 1.6436e+04","651.1207 5.7483e+03","651.2219 2.6030e+03","651.3164 3.4585e+03","651.3406 3.5722e+03","651.4477 9.6559e+03","651.5231 4.0829e+03","651.5576 1.9437e+04","651.6697 1.5860e+04","651.7808 1.1106e+04","652.1159 5.1077e+03","652.4233 4.3292e+03","652.4589 5.9202e+03","652.5237 1.1272e+04","652.6235 2.0014e+04","652.7245 3.5728e+04","652.8243 3.7353e+04","652.9246 2.4937e+04","653.0249 1.9959e+04","653.1248 1.6783e+04","653.2245 6.9240e+03","653.3215 3.3186e+03","653.4271 3.6253e+03","654.1047 1.8908e+03","654.2164 1.7902e+03","654.3412 2.5673e+03","654.5244 5.9656e+03","654.6374 4.7166e+03","654.8232 3.7672e+03","655.0165 1.9754e+03","655.5430 2.7977e+03","656.4602 2.3209e+03","656.6204 2.2145e+03","656.7708 2.8522e+03","657.0066 2.9838e+03","657.3328 2.1604e+04","657.6689 1.9044e+03","657.8337 1.4271e+04","658.0617 1.7948e+03","658.1678 1.7434e+03","658.3348 6.4591e+03","658.8412 3.5306e+03","659.5554 2.7699e+03","659.6734 5.4027e+03","659.7601 2.4050e+03","659.8394 1.2261e+04","660.0057 1.9477e+04","660.1740 1.6474e+04","660.3428 4.7088e+03","660.4585 3.2456e+03","660.5089 5.4751e+03","660.6047 4.3951e+03","660.7250 3.7852e+03","661.3394 2.6733e+03","661.4835 3.6339e+03","661.6264 5.6362e+03","661.7677 8.0690e+03","662.0490 1.8849e+03","662.2254 1.9275e+03","662.3343 3.3329e+03","662.5333 2.2979e+03","662.6337 2.2820e+03","662.9592 9.8561e+03","663.1593 2.2181e+04","663.3603 1.4677e+04","663.5605 1.0897e+04","663.7623 4.8675e+03","663.8342 2.8665e+03","663.8901 2.9537e+03","663.9341 3.4579e+03","663.9666 2.3561e+03","664.0321 6.4901e+03","664.1343 7.8794e+03","664.1841 1.6491e+03","664.2335 2.8497e+03","664.3410 2.7225e+03","664.5306 2.1863e+03","664.5864 1.9191e+03","666.7073 3.3097e+03","666.8352 2.4704e+03","667.3405 3.5196e+03","667.5593 4.5292e+03","667.8937 2.5249e+03","668.3199 1.6498e+03","668.5599 2.3246e+03","668.7160 2.6697e+03","668.8398 4.9776e+03","668.9670 3.5341e+03","669.0003 1.8639e+03","669.0923 3.6501e+03","669.2300 5.5471e+03","669.3102 1.9184e+03","669.3370 2.8044e+03","669.4501 6.9937e+03","669.5621 2.9760e+03","669.6722 5.7206e+03","669.7095 1.5473e+03","670.3063 1.9921e+03","670.6136 2.7589e+03","670.8890 3.5807e+03","671.0312 2.8898e+03","671.0654 1.7194e+03","672.9960 1.0566e+04","673.0355 2.4164e+03","673.0635 3.1541e+03","673.1053 1.6571e+03","673.1782 1.2924e+04","673.2363 2.4237e+03","673.3120 2.9398e+03","673.3354 5.7111e+03","673.4341 3.6106e+03","673.4633 5.1608e+03","673.5107 1.7131e+03","673.5306 1.9458e+03","673.6062 2.6585e+03","673.6647 6.1642e+03","673.7504 2.6917e+03","674.3652 1.7138e+03","675.1371 1.8878e+03","675.3388 5.7408e+03","675.4362 9.3814e+03","675.5385 4.7527e+03","675.6404 2.0645e+03","675.7266 3.4685e+03","676.1826 5.4753e+03","676.3515 1.1996e+04","676.5172 1.0049e+04","676.6838 1.0431e+04","676.8538 5.4709e+03","677.0913 1.6529e+03","677.1255 3.0173e+03","677.9944 2.3570e+03","678.8990 3.4061e+03","679.0072 5.3113e+03","679.0609 1.8225e+03","679.1213 1.3634e+04","679.1615 1.8929e+03","679.3710 1.9653e+04","679.5632 2.5234e+03","679.7056 1.9994e+04","680.0392 1.3299e+04","680.3300 2.3815e+03","680.3717 5.4267e+03","680.9201 2.7351e+03","681.2040 3.2768e+03","681.5120 4.3225e+03","681.9138 2.2461e+03","681.9583 2.3696e+03","684.2276 2.4128e+03","684.7260 3.7314e+03","684.8514 6.9313e+03","684.9760 8.5187e+03","685.1008 4.3593e+03","685.7787 1.8866e+03","686.7135 2.9977e+03","686.9124 4.7697e+03","687.1086 4.6132e+03","687.3144 4.2137e+03","689.0657 2.7400e+03","689.2079 2.5477e+03","689.3528 4.7482e+03","689.6422 1.9718e+03","692.3149 1.5256e+03","692.5190 3.1450e+03","692.6846 2.3192e+03","692.8543 1.9746e+03","694.6763 2.0814e+03","694.8062 1.9200e+03","695.3578 1.9902e+03","695.3975 1.1508e+04","695.5201 8.6381e+03","695.6888 1.9461e+04","695.8563 1.0442e+04","696.0225 5.4509e+03","696.1901 4.6409e+03","696.3574 4.3534e+03","696.3998 4.3016e+03","696.6778 3.0626e+03","696.7897 3.0409e+03","696.9023 4.9655e+03","696.9807 2.5684e+03","697.0144 2.5977e+03","697.1272 4.7522e+03","698.8591 3.2589e+03","698.9838 2.1401e+03","699.1129 1.9410e+03","699.6439 1.9190e+03","699.8957 1.7510e+03","700.1277 2.2190e+03","703.4999 3.5128e+03","703.7896 2.2621e+03","705.1670 1.9678e+03","705.3547 2.1604e+03","705.4999 2.8708e+03","705.6423 2.3571e+03","705.8755 2.9131e+04","706.3775 2.4789e+04","706.8788 1.3619e+04","707.3582 1.5939e+03","707.3833 2.5153e+03","707.8980 2.3336e+03","709.2356 2.0777e+03","710.7504 2.1894e+03","711.1552 2.1356e+03","711.5558 2.3329e+03","711.6742 4.5692e+03","712.4603 2.6528e+03","713.6816 2.3403e+03","713.8740 9.0026e+03","713.9117 3.2694e+03","714.0172 3.2483e+03","714.1359 2.0717e+03","714.3731 8.0694e+03","714.5353 3.8596e+03","714.7048 6.3124e+03","714.8712 4.8631e+03","714.9868 1.8740e+03","716.3558 4.4190e+03","719.1763 1.9538e+03","721.1061 1.9554e+03","721.3517 1.8623e+03","722.3354 1.7447e+03","722.9107 2.4483e+03","723.4801 1.7966e+03","725.6918 2.4398e+03","730.6618 2.5599e+03","730.7766 2.1647e+03","730.8482 2.6348e+03","730.9015 3.7137e+03","731.0138 5.2226e+03","731.1551 7.5638e+03","731.3493 3.5925e+03","731.4034 2.0015e+03","732.9205 1.9828e+03","733.2082 3.2206e+03","733.3757 7.7022e+03","733.5422 9.8096e+03","733.7087 5.7376e+03","733.8770 3.9674e+03","734.0460 4.2435e+03","734.1833 2.6840e+03","735.3925 2.6936e+03","735.6440 2.7771e+03","735.8931 2.3130e+03","742.1261 2.2456e+03","742.3061 3.9767e+03","744.8523 2.0674e+03","746.0064 2.3450e+03","747.3950 1.2580e+04","747.8537 2.4329e+03","747.8956 9.8773e+03","748.3947 5.6286e+03","750.5798 2.1332e+03","752.3889 1.8524e+03","755.3913 3.1431e+03","755.8918 3.0697e+03","756.3982 1.1142e+04","756.9016 9.2135e+03","757.4031 4.9664e+03","759.8011 3.3863e+03","764.3978 2.0793e+03","764.8891 2.2930e+03","765.3536 2.1459e+03","766.3895 3.0335e+03","766.8911 3.9898e+03","767.6700 4.7369e+03","767.9164 5.9621e+03","771.3647 1.7177e+03","777.3441 2.4819e+03","781.3750 2.0930e+03","781.7064 2.6450e+03","782.3977 1.6076e+03","783.4418 5.9082e+03","787.0451 5.2679e+03","787.3809 1.2197e+04","787.7155 5.5972e+03","788.0518 4.5997e+03","788.3596 5.1988e+03","788.6954 3.9223e+03","791.6054 4.1177e+03","791.8065 2.4281e+03","791.9182 8.6323e+03","792.4186 5.1622e+03","792.9185 4.2693e+03","795.2432 3.6536e+03","797.3651 2.0045e+03","802.1108 2.9771e+03","804.1830 2.6099e+03","804.4343 2.3281e+03","804.6872 4.4616e+03","810.4195 9.5114e+03","810.5043 2.2000e+03","811.4222 6.6545e+03","822.0435 3.3537e+03","822.3790 5.4075e+03","822.7084 2.8958e+03","828.4503 2.6181e+03","828.6952 3.2331e+03","828.9477 3.4264e+03","831.1325 2.2512e+03","831.4282 2.5459e+03","834.8289 2.4087e+03","853.8843 1.9052e+03","857.3334 3.6804e+03","857.9904 2.7232e+03","858.4584 8.5072e+03","859.4628 3.5309e+03","874.4571 2.4298e+03","877.0145 2.3342e+03","879.4437 2.6283e+03","879.9410 3.2792e+03","884.4883 4.9715e+03","885.4959 2.4212e+03","892.4101 1.8888e+03","896.7481 3.7066e+03","897.0818 3.7760e+03","897.4184 2.9378e+03","910.8618 1.8887e+03","935.7704 2.3319e+03","959.4620 2.1205e+03","1031.5543 8.4153e+03","1032.5593 2.8141e+03","1033.5587 2.3656e+03","1049.4454 2.0888e+03","1055.8290 3.5978e+03","1197.7170 1.6267e+03","1198.0699 7.5684e+03","1391.3511 1.7433e+03","1549.2277 2.1544e+03","1620.1794 1.7390e+03","1694.4015 1.7028e+03","1717.6204 4.2303e+03","1718.0229 2.3151e+03","1718.3442 3.7622e+03","1718.7095 3.2878e+03","1721.8619 2.7964e+03","1722.4104 2.3914e+03","1742.1342 1.8576e+03","1856.7212 3.7586e+03","1874.9784 1.8455e+03","1876.2146 4.3360e+03","1876.3549 2.4954e+03","1876.5157 2.0587e+03","1876.6973 5.3908e+03","1876.8511 6.3851e+03","1877.0186 9.1541e+04","1877.1868 5.4970e+03","1877.3275 8.7584e+03","1877.7660 3.9060e+03","1878.2323 1.8081e+03","1904.7947 4.4118e+03","1904.9944 2.2193e+04","1905.2131 7.1833e+03","1905.3505 1.8450e+03","1949.1514 1.8647e+03"]`); 
	localStorage.setItem('massAndIntensityList', `["6738.2808 559547.77 11","2035.0924 751943.14 4","6431.1296 314674.21 11","7229.5149 285223.28 12","6360.0976 409101.40 11","6532.1725 233172.94 11","6720.2655 155067.87 11","6360.0898 215945.01 10","6514.1600 169389.30 10","6259.0431 243618.60 10","6514.1585 164846.64 11","6413.1117 144496.76 10","6099.0144 175401.05 10","4393.2060 161197.69 7","4051.0554 130383.13 7","1296.6557 136323.82 2","1274.6673 126964.65 2","5581.8269 103994.47 9","3065.6383 198453.45 5","1068.5459 108652.14 2","7212.4780 60439.19 12","6644.2552 78075.35 11","6854.3629 61152.48 11","5680.8873 63885.19 9","7537.6857 53965.26 12","2035.0920 59250.42 3","1409.7364 69082.49 2","6430.1171 98077.92 10","6755.2642 67397.05 11","3309.7572 66595.17 5","6414.1307 72831.30 11","5851.9450 73025.35 9","4506.2978 30219.18 7","4051.0537 43973.00 6","1312.6511 44953.28 2","3212.7067 66553.31 5","3951.9852 63374.27 6","6342.0820 37397.70 10","5833.9083 45481.11 9","6396.1201 35305.86 10","4614.1570 33735.24 8","3791.9562 32061.17 6","1563.8106 41351.10 3","6496.1614 42268.25 11","1492.7756 39321.36 3","6341.0947 57531.74 11","6149.0168 24591.41 10","1492.7754 29903.88 2","4393.2071 31732.36 6","1510.7818 25309.02 2","6241.0281 36532.80 10","1510.7860 42859.19 3","5794.9363 32622.76 9","905.4846 29638.30 2","6626.2575 30864.56 10","4280.1503 22815.67 7","1019.5513 35278.21 2","5340.6696 17443.31 8","1139.6202 20338.41 3","2358.1179 29894.85 3","4166.0835 55905.37 6","1051.5155 19338.94 2","694.3904 39345.06 2","3126.0320 20360.87 5","6741.2810 34206.12 10","3428.5013 18513.98 5","5564.8058 16571.59 9","6260.0357 19982.02 9","710.3854 18203.03 2","4622.3284 28519.86 7","4585.1434 19975.46 8","3010.2997 33016.97 5","3047.6399 33292.04 5","694.3902 15920.33 1","4279.1624 23599.78 6","1581.8219 18545.21 2","5794.9336 20385.83 10","4703.1911 43181.48 7","6478.1051 56136.02 11","6012.9615 25497.57 9","5776.9035 21069.30 9","1579.8079 9933.18 3","435.2568 12495.90 1","2463.1122 14148.77 3","6497.1328 60012.96 10","2017.0787 12410.58 4","613.9293 17999.51 1","2918.5664 26794.28 5","4364.9569 13565.76 7","857.4511 12318.20 1","4814.3969 17425.89 7","6360.0836 13341.91 12","6719.2815 11765.19 10","7063.5551 17752.07 12","809.4122 15610.42 1","7549.1265 8401.58 13","7014.1200 23363.49 11","2686.2183 11273.32 3","2015.9657 24208.32 3","4479.0746 15403.22 7","3827.4051 21598.23 6","5066.5299 18335.43 8","3308.7464 10903.80 4","1122.5933 17638.25 3","3308.7567 37732.87 7","594.5636 9218.82 1","4929.4426 8047.57 7","2179.3916 7708.32 11","3694.7916 23333.72 6","2951.9185 9610.18 5","4722.1698 11775.24 8","1296.6565 12630.93 3","5527.8910 13063.19 9","3776.8430 19536.67 6","6078.9386 25697.26 10","1167.6140 7635.18 3","5296.0815 6999.89 9","6414.1344 10720.57 9","1754.2185 44078.14 3","6099.0202 36967.19 9","1170.9370 24035.51 2","921.4787 9652.40 2","1981.3720 9230.15 10","2918.5860 18591.00 4","2936.5418 8617.42 4","883.4810 7393.20 1","1841.7169 9567.21 3","1916.8919 7774.53 3","3657.0089 19354.15 6","6323.0666 10061.73 11","4147.0558 7441.64 6","2428.5227 6744.80 4"]`); 
	localStorage.setItem('fixedPtmList', `[{"name":"Carbamidomethylation"}]`); 
	localStorage.setItem('sequence', "MKKGIHPNYVEITATCSCGNVIKTHSTVGHDLNLDVCGKCHPFFTGKQRVVDTGGRVERFNKRFSIPGSK"); 
	localStorage.setItem('unknownMassShiftList', `[{"position":9,"mass":17.14}]`); 
	localStorage.setItem('ionType', `Y,B`); 
	localStorage.setItem('precursorMass', "7958.8813"); 

	// Get the data from local storage 
	var peakAndIntensityList = parsePeakMass('peakAndIntensityList');
	// console.log(peakAndIntensityList);
	var massAndIntensityList = parsePeakMass('massAndIntensityList');
	var sequence = parseSeq('sequence');
	var l_fixedPtmList = parsePTM('fixedPtmList');
	let unknownMassShiftList = parseUnknowmassList('unknownMassShiftList');
	precursorMass = parsePrecursorMass("precursorMass");
	if(peakAndIntensityList !== null && massAndIntensityList !== null
		&& sequence !== null && precursorMass !== null)
	{	
		// let SetValuesToHtmlObj = new SetValuesToHtml(peakAndIntensityList,massAndIntensityList,sequence,l_fixedPtmList,unknownMassShiftList,precursorMass);
		setDataToPeakAndIntensity(peakAndIntensityList);
		setDataToMassAndIntensity(massAndIntensityList);
		setDataToSequence(sequence, unknownMassShiftList);
		setFixedMasses(l_fixedPtmList);
		setPrecursorMass(precursorMass);
	}

	//set the checkbox based on the ion type used in the data, which is stored in local storage
	let ionType = window.localStorage.getItem('ionType'); 
	console.log("ionTYpe : ", ionType);
	setIonCheckbox(ionType);

	onLoadOfHTML(precursorMass);
  	// localStorage.clear();
  
	//ion type data needs to be preserved because it is recorded only once when the prsm.html opens. 
	//Without this line it is going to break when the user tries to open inspect window again after closing.
	localStorage.setItem('ionType', ionType); 
	
	$("#helpModal").draggable({
		appendTo: "body"
	});
});
</script>
<style>
</style>
</head>
<body>
<div id="nav-bar"></div>
<div class="container">
	<div class="flex-rectangle">
		<div class="row">
			<div class="col-md-4 col-lg-4">
				<!--<h5>Peaks <img src="images/info.png" id="peakintensityinfo"
            alt="nfo"></h5>-->
				<h5>Peaks</h5>
				<textarea id="peakdata" class="form-control col-xs-12" rows="10" cols="50"></textarea>
			</div>
			<div class="col-md-3 col-lg-3">
				<!--<h5>Masses & intensities <img src="images/info.png"
            id="massintensityinfo" alt="info"></h5> -->
        <h5>Masses & intensities </h5>
				<textarea id="data" class="form-control col-xs-12" rows="10" cols="50"></textarea>
			</div>
			<div class="col-md-3 col-lg-3">
				<!--<h5>Ion types <img src="images/info.png" id="ionfragmentinfo"
            alt="info"></h5> -->
        <h5>Ion types</h5>
				<table class="table table-sm table-bordered ionfragments">
				<tbody>
					<tr>
						<td><div class="custom-control custom-checkbox">
							<input type="checkbox" class="custom-control-input" name="nterminus" value="-27.9949" id="a">
							<label class="custom-control-label" for="a">a</label>
							</div></td>
						<td><div class="custom-control custom-checkbox">
							<input type="checkbox" class="custom-control-input" name="nterminus" value="-46.0149" id="a1">
							<label class="custom-control-label" for="a1" >a-H<sub>2</sub>O</label>
							</div></td>
						<td><div class="custom-control custom-checkbox">
							<input type="checkbox" class="custom-control-input" name="nterminus" value="-45.02542" id="a2">
							<label class="custom-control-label" for="a2" >a-NH<sub>3</sub></label>
							</div></td>	
					</tr>
					<tr>
						<td><div class="custom-control custom-checkbox">
							<input type="checkbox" class="custom-control-input" name="nterminus" value="0" id="b">
							<label class="custom-control-label" for="b" >b</label>
							</div></td>
						<td><div class="custom-control custom-checkbox">
							<input type="checkbox" class="custom-control-input" name="nterminus" value="-18.02" id="b1">
							<label class="custom-control-label" for="b1" >b-H<sub>2</sub>O</label>
							</div></td>
						<td><div class="custom-control custom-checkbox" >
							<input type="checkbox" class="custom-control-input" name="nterminus" value="-17.03052" id="b2">
							<label class="custom-control-label" for="b2" >b-NH<sub>3</sub></label>
							</div></td>
					</tr>
					<tr>
						<td><div class="custom-control custom-checkbox">
							<input type="checkbox" class="custom-control-input" name="nterminus"  value="17.0266" id="c">
							<label class="custom-control-label" for="c">c</label>
							</div></td>
						<td><div class="custom-control custom-checkbox">
							<input type="checkbox" class="custom-control-input" name="nterminus"  value="-0.9934" id="c1">
							<label class="custom-control-label" for="c1" >c-H<sub>2</sub>O</label>
							</div></td>
						<td><div class="custom-control custom-checkbox">
							<input type="checkbox" class="custom-control-input"  name="nterminus"value="-0.00392" id="c2">
							<label class="custom-control-label" for="c2" >c-NH<sub>3</sub></label>
							</div></td>
					</tr>
					<tr>
						<td><div class="custom-control custom-checkbox">
							<input type="checkbox" class="custom-control-input" name="cterminus" value="43.99" id="x">
							<label class="custom-control-label" for="x" >x</label>
							</div></td>
						<td><div class="custom-control custom-checkbox">
							<input type="checkbox" class="custom-control-input" name="cterminus" value="25.97" id="x1">
							<label class="custom-control-label" for="x1" >x-H<sub>2</sub>O</label>
							</div></td>
						<td><div class="custom-control custom-checkbox">
							<input type="checkbox" class="custom-control-input" name="cterminus" value="26.95948" id="x2">
							<label class="custom-control-label" for="x2" >x-NH<sub>3</sub></label>
							</div></td>
					</tr>
					<tr>
						<td><div class="custom-control custom-checkbox">
							<input type="checkbox" class="custom-control-input" name="cterminus" value="18.0106" id="y">
							<label class="custom-control-label" for="y" >y</label>
							</div></td>
						<td><div class="custom-control custom-checkbox">
							<input type="checkbox" class="custom-control-input" name="cterminus" value="0" id="y1">
							<label class="custom-control-label" for="y1" >y-H<sub>2</sub>O</label>
							</div></td>
						<td><div class="custom-control custom-checkbox">
							<input type="checkbox" class="custom-control-input" name="cterminus" value="0.98008" id="y2">
							<label class="custom-control-label" for="y2" >y-NH<sub>3</sub></label>
							</div></td>
					</tr>
					<tr>
						<td><div class="custom-control custom-checkbox">
							<input type="checkbox" class="custom-control-input" name="cterminus" value="0.984" id="z">
							<label class="custom-control-label" for="z" >z</label>
							</div></td>
						<td><div class="custom-control custom-checkbox">
							<input type="checkbox" class="custom-control-input" name="cterminus" value="-17.026" id="z1">
							<label class="custom-control-label" for="z1" >z-H<sub>2</sub>O</label>
							</div></td>
						<td><div class="custom-control custom-checkbox">
							<input type="checkbox" class="custom-control-input" name="cterminus" value="-16.04652" id="z2">
							<label class="custom-control-label" for="z2" >z-NH<sub>3</sub></label>
							</div></td>
					</tr>
					<tr>
						<td><div class="custom-control custom-checkbox">
								<input type="checkbox" class="custom-control-input" name="cterminus" value="1.9919" id="z_">
								<label class="custom-control-label" for="z_">z&deg;</label>
							</div></td>
						<td><div class="custom-control custom-checkbox">
								<input type="checkbox" class="custom-control-input" name="cterminus" value="-16.018664" id="z_1">
								<label class="custom-control-label" for="z_1" >z&deg;-H<sub>2</sub>O</label>
							</div></td>
						<td><div class="custom-control custom-checkbox">
								<input type="checkbox" class="custom-control-input" name="cterminus" value="-15.03862" id="z_2">
								<label class="custom-control-label" for="z_2" >z&deg;-NH<sub>3</sub></label>
							</div></td>	
						</tr>
				</tbody>
				</table>
			</div>
			<div class="col-md-2 col-lg-2">
					<!--<h5>Fixed PTMs <img src="images/info.png" id="fixedptminfo"
              alt="info"></h5>-->
          <h5>Fixed PTMs</h5>
				<div class="fixedptmslist">
					<select class="browser-default custom-select" id="dropdownMenuLink">
					</select>	
				<button type="button" class="btn btn-default btn-sm addnewrow">
						<i class="fa fa-plus" ></i>
				</button>
					<form class="form-inline mr-auto">
						<div id = "fixedptmslist" > 
							<br>
						</div>
					</form>
				</div>
			</div>
		</div>
		<div class="row">
			<!--<h5>&nbsp;&nbsp;&nbsp;Protein sequence <img src="images/info.png"
          id="sequenceinfo" alt="info"></h5>-->
			<h5>&nbsp;&nbsp;&nbsp;Protein sequence</h5>
		</div>
		<div class="row">
			<div class="col-md-9 col-lg-9">
					<textarea id="sequencedata" class="form-control col-xs-8"></textarea>
			</div>
			<div class="col-md-3 col-lg-3">
        <!--<form class="form-inline float-sm-right error_input"> -->
        <table>
          <tr>
            <td>
              <select class = "form-control error_dropdown" id="error_dropdown">
                <option value="masserror">Mass error</option>
                <option value="ppmerror">PPM error</option>
              </select>&nbsp;&nbsp;
            </td>
            <td>
              <input class="form-control" type="text" id="errorval" /> &nbsp;&nbsp;
            </td>
            <td>
              <h6><text  class="form-group" id="errorunit">Da&nbsp;&nbsp;</text></h6>
            </td>
            <tr>
            <tr>
            <td>
              <button id="help" type="button" style="width:80%"
                      data-toggle="modal" data-target="#helpModal" class="btn btn-primary btn-sm">Help</button>
            </td>
            <td colspan=2>
              <button id="submit" type="button" style="width:80%" class="btn btn-primary btn-sm">Submit</button>
            </td>
          </tr>
        </table>
          <!--</form> -->
			</div>
		</div>
	</div> 
	<br>
		<div class="row">
			<div class="col-3">
				<h6 id="precursormass_h6" style="display:block"><text>Precursor mass:&nbsp;</text><text id="precursormass">0</text></h6>
			</div>
			<div class="col-3">
				<h6 id="totalseqmass_h6" style="display:none"><text>Protein molecular mass:&nbsp;</text><text id="totalmass">0</text></h6>
			</div>
			<div class="col-3">
				<h6 id="massvariation_h6" style="display:none"><text>Mass Error:&nbsp;</text><text id="massvariation">0</text></h6>
			</div>
			<div class="col-3 seqvisualization">
					<div class="dropdown dropup float-right">
						<button type="button" class="btn btn-primary btn-sm dropdown-toggle" data-toggle="dropdown" id="svg_download" style="display:none">
							Download
						</button>
					<div class="dropdown-menu">
					  <a class="dropdown-item" href="#!" id="seq_download_png"><i class="fas fa-download"></i><span>&nbsp;&nbsp;PNG</span></a>
					  <a class="dropdown-item" href="#!" id="seq_download_svg"><i class="fas fa-download"></i><span>&nbsp;&nbsp;SVG</span></a>
					</div>
				  </div>
			</div>
		</div>
		<div class="row">
			<div class="rounded mx-auto d-block" >
				<svg id = "seqsvg" style="background-color:white;display:none"></svg>
			</div>	
		</div>
	<div class="row">
		<svg id = "spectrum" height="250" width = "1000" style="background-color:white;display:none"></svg>
	</div>
	
	<div class="row">
		<h5 id="monoMasstitle" style="display:none">MonoMass Spectrum</h5>
		<svg id = "monoMassGraph" height="250" width = "1000" style="background-color:white;display:none"></svg>
	</div>
	<div class="row" id="peakCount" style="display:none">
		<div class="col-2 pull-left" >
			<a id="all_peak_count" href="#!" onclick="showAllPeaks();">All Peaks</a>
		</div>
		<div class="col-2 pull-left" >
			<a id="matched_peak_count" href="#!" onclick="showMatchedPeaks();">Matched Peaks</a>
		</div>
		<div class="col-3 pull-left" >
			<a id="unmatched_peak_count" href="#!" onclick="showNonMatchedPeaks();">Non Matched Peaks</a>
		</div>
		<div class="col-5 prsmgraphdownload" >
			<div class="dropup">
				<button type="button" class="btn btn-primary btn-sm dropdown-toggle float-right" data-toggle="dropdown" id="graph_download">
					Download
				</button>
				<div class="dropdown-menu">
					<a class="dropdown-item" href="#!" id="graph_download_png">
						<i class="fas fa-download"></i><span>&nbsp;&nbsp;PNG</span>
					</a>
					<a class="dropdown-item" href="#!" id="graph_download_svg">
						<i class="fas fa-download"></i><span>&nbsp;&nbsp;SVG</span>
					</a>
				</div>
			</div>
			<button type="button" class="btn btn-primary btn-sm float-right" id="hide_table">Hide Table</button>
		</div>
	</div>
	<div class="row">
		<div class="col-12" >
			<div id="divtableContainer" >
			</div>
		</div>
	</div>
	<br>
	<div class="row">
			<h4 id="h_fragmentedtable" style="display:none">Theoretical fragment masses</h4>
		<div class="col-12" >
			<div id="divselectediontablecontainer" >
			</div>
		</div>
	</div>
</div>


<footer class="page-footer font-small blue">
	<div class="footer-copyright text-center py-3">Â© 2019 Copyright: The Trustees of 
		<a href="https://www.iu.edu/" target="#">Indiana University</a>
	</div>
</footer>

<div class="modal" id="helpModal" role="dialog">
  <div class="modal-dialog modal-lg" role="document">
    <div class="modal-content" id ="help-window">
      <div class="modal-header ">
        <h2>Help</h2>
        <button type="button" class="close" data-dismiss="modal">&times;</button>
      </div>
      <div class="modal-body" >
        <h4>Peaks</h4>
        <p>The text area contains a list of peaks, each of which is represented
        by an m/z value and an intensity separated by a space. 
        The user can copy, paste, and edit the list as text. 
        </p>
        <h4>Masses and intensities</h4>
        <p>The text area contains a list of deconvoluted masses, each of which
        is represented a monoisotopic mass, an intensity, and a charge state
        separated by spaces.  
        The user can copy, paste, and edit the list as text. 
        If the intensity is unknown, a default value 1 can be used. For example, 
        the user can add a monoisotopic mass 10000 Da with charge state 10 by inserting 
        a line "10000 1 10" into the text. 
        </p>
        <h4>Fixed PTMs</h4>
        <p>To add a fixed PTM, select "C:57.0271464" or "C:58.005479" and click the
        "+" button.
        </p>
        <h4>Protein sequence</h4>
        <p>The text area contains a protein sequence, which the user can edit 
        as text. A mass shift or modification on the protein is represented by a
        number enclosed by brackets. For example, 
        the user can insert
        "[79.9663]" into a sequence 'MPRSLKKGPF' to obtained a modified protein
        "MPRS[79.9663]LKKGPF", 
        which has a phosphorylation site on the 4th amino acid. 
        </p>
        <p>After the user click the "Submit" button, an annotated protein
        sequence will be shown. Alternatively, the user can click the amino
        acids in the annotated protein sequence to add mass shifts. 
        </p>
      </div> 
    </div>
  </div>
</div>
<div class="modal" id="errorAlertModal" role="dialog">
  <div class="modal-dialog modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header ">
        <h2>Error!</h2>
        <button type="button" class="close" data-dismiss="modal">&times;</button>
      </div>
      <div class="modal-body" >
        <h4>Invalid amino acid in the protein sequence.</h4>
      </div> 
    </div>
  </div>
</div>
<script type="text/javascript" src="js/views/base.js"></script>
</body>
</html>